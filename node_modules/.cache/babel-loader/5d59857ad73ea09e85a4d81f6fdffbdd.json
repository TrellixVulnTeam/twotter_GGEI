{"remainingRequest":"/Users/justinjacobsumaya/Documents/laravel-vue-projects/twotter/node_modules/babel-loader/lib/index.js!/Users/justinjacobsumaya/Documents/laravel-vue-projects/twotter/node_modules/eslint-loader/index.js??ref--13-0!/Users/justinjacobsumaya/Documents/laravel-vue-projects/twotter/src/router/index.js","dependencies":[{"path":"/Users/justinjacobsumaya/Documents/laravel-vue-projects/twotter/src/router/index.js","mtime":1623297199846},{"path":"/Users/justinjacobsumaya/Documents/laravel-vue-projects/twotter/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/justinjacobsumaya/Documents/laravel-vue-projects/twotter/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/justinjacobsumaya/Documents/laravel-vue-projects/twotter/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9qdXN0aW5qYWNvYnN1bWF5YS9Eb2N1bWVudHMvbGFyYXZlbC12dWUtcHJvamVjdHMvdHdvdHRlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgY3JlYXRlUm91dGVyLCBjcmVhdGVXZWJIaXN0b3J5IH0gZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCB7IHVzZXJzIH0gZnJvbSAnLi4vYXNzZXRzL3VzZXJzJzsKaW1wb3J0IHN0b3JlIGZyb20gJy4uL3N0b3JlJzsKaW1wb3J0IEhvbWUgZnJvbSAnLi4vdmlld3MvSG9tZS52dWUnOwppbXBvcnQgVXNlclByb2ZpbGUgZnJvbSAnLi4vdmlld3MvVXNlclByb2ZpbGUudnVlJzsKaW1wb3J0IEFkbWluIGZyb20gJy4uL3ZpZXdzL0FkbWluLnZ1ZSc7CnZhciByb3V0ZXMgPSBbewogIHBhdGg6ICcvJywKICBuYW1lOiAnSG9tZScsCiAgY29tcG9uZW50OiBIb21lCn0sIHsKICBwYXRoOiAnL3VzZXIvOnVzZXJJZCcsCiAgbmFtZTogJ1VzZXJQcm9maWxlJywKICBjb21wb25lbnQ6IFVzZXJQcm9maWxlCn0sIHsKICBwYXRoOiAnL2FkbWluJywKICBuYW1lOiAnQWRtaW4nLAogIGNvbXBvbmVudDogQWRtaW4sCiAgbWV0YTogewogICAgcmVxdWlyZXNBZG1pbjogdHJ1ZQogIH0KfV07CnZhciByb3V0ZXIgPSBjcmVhdGVSb3V0ZXIoewogIGhpc3Rvcnk6IGNyZWF0ZVdlYkhpc3RvcnkoKSwKICByb3V0ZXM6IHJvdXRlcwp9KTsKcm91dGVyLmJlZm9yZUVhY2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodG8sIGZyb20sIG5leHQpIHsKICAgIHZhciB1c2VyLCBpc0FkbWluLCByZXF1aXJlc0FkbWluOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICB1c2VyID0gc3RvcmUuc3RhdGUuVXNlci51c2VyOwoKICAgICAgICAgICAgaWYgKHVzZXIpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgnVXNlci9zZXRVc2VyJywgdXNlcnNbMF0pOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgaXNBZG1pbiA9IGZhbHNlOwogICAgICAgICAgICByZXF1aXJlc0FkbWluID0gdG8ubWF0Y2hlZC5zb21lKGZ1bmN0aW9uIChyZWNvcmQpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVjb3JkLm1ldGEucmVxdWlyZXNBZG1pbjsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGlmIChyZXF1aXJlc0FkbWluICYmICFpc0FkbWluKSBuZXh0KHsKICAgICAgICAgICAgICBuYW1lOiAnSG9tZScKICAgICAgICAgICAgfSk7ZWxzZSBuZXh0KCk7CgogICAgICAgICAgY2FzZSA3OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIChfeCwgX3gyLCBfeDMpIHsKICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpKTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["/Users/justinjacobsumaya/Documents/laravel-vue-projects/twotter/src/router/index.js"],"names":["createRouter","createWebHistory","users","store","Home","UserProfile","Admin","routes","path","name","component","meta","requiresAdmin","router","history","beforeEach","to","from","next","user","state","User","dispatch","isAdmin","matched","some","record"],"mappings":";;AAAA,SAASA,YAAT,EAAuBC,gBAAvB,QAA+C,YAA/C;AACA,SAASC,KAAT,QAAsB,iBAAtB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AAEA,IAAMC,MAAM,GAAG,CACb;AACEC,EAAAA,IAAI,EAAE,GADR;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGEC,EAAAA,SAAS,EAAEN;AAHb,CADa,EAMb;AACEI,EAAAA,IAAI,EAAE,eADR;AAEEC,EAAAA,IAAI,EAAE,aAFR;AAGEC,EAAAA,SAAS,EAAEL;AAHb,CANa,EAWb;AACEG,EAAAA,IAAI,EAAE,QADR;AAEEC,EAAAA,IAAI,EAAE,OAFR;AAGEC,EAAAA,SAAS,EAAEJ,KAHb;AAIEK,EAAAA,IAAI,EAAE;AACJC,IAAAA,aAAa,EAAE;AADX;AAJR,CAXa,CAAf;AAqBA,IAAMC,MAAM,GAAGb,YAAY,CAAC;AAC1Bc,EAAAA,OAAO,EAAEb,gBAAgB,EADC;AAE1BM,EAAAA,MAAM,EAANA;AAF0B,CAAD,CAA3B;AAKAM,MAAM,CAACE,UAAP;AAAA,qEAAkB,iBAAOC,EAAP,EAAWC,IAAX,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AACVC,YAAAA,IADU,GACHhB,KAAK,CAACiB,KAAN,CAAYC,IAAZ,CAAiBF,IADd;;AAAA,gBAGXA,IAHW;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAKRhB,KAAK,CAACmB,QAAN,CAAe,cAAf,EAA+BpB,KAAK,CAAC,CAAD,CAApC,CALQ;;AAAA;AAQVqB,YAAAA,OARU,GAQA,KARA;AASVX,YAAAA,aATU,GASMI,EAAE,CAACQ,OAAH,CAAWC,IAAX,CAAgB,UAAAC,MAAM;AAAA,qBAAIA,MAAM,CAACf,IAAP,CAAYC,aAAhB;AAAA,aAAtB,CATN;AAWhB,gBAAIA,aAAa,IAAI,CAACW,OAAtB,EACEL,IAAI,CAAC;AAAET,cAAAA,IAAI,EAAE;AAAR,aAAD,CAAJ,CADF,KAGES,IAAI;;AAdU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAAA;AAAA;AAAA;AAAA;AAiBA,eAAeL,MAAf","sourcesContent":["import { createRouter, createWebHistory } from 'vue-router'\nimport { users } from '../assets/users'\nimport store from '../store'\nimport Home from '../views/Home.vue'\nimport UserProfile from '../views/UserProfile.vue'\nimport Admin from '../views/Admin.vue'\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home\n  },\n  {\n    path: '/user/:userId',\n    name: 'UserProfile',\n    component: UserProfile\n  },\n  {\n    path: '/admin',\n    name: 'Admin',\n    component: Admin,\n    meta: {\n      requiresAdmin: true\n    }\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n})\n\nrouter.beforeEach(async (to, from, next) => {\n  const user = store.state.User.user;\n\n  if (!user) \n  {\n    await store.dispatch('User/setUser', users[0])  \n  }\n\n  const isAdmin = false;\n  const requiresAdmin = to.matched.some(record => record.meta.requiresAdmin);\n\n  if (requiresAdmin && !isAdmin) \n    next({ name: 'Home' })\n  else\n    next();\n})\n\nexport default router\n"]}]}